<html>

<body>
	<style>
		.formclass {
			border: solid 1px #aaa;
		}
		.formclass .row {
			padding: 0.2em 0.5em;
		}
		.formclass .label {
			display: inline;
			float: left;
			width: 100px;
			font-weight: bold;
		}
		.formclass .field {
			display: inline;
			margin-left: 100px;
		}

		td { vertical-align: top; }
		#output {
			font-family: courier;
			border: solid 1px #aaa;
			padding: 1em;
		}

	</style>
<script src=jquery.js></script>
<script src=f.js></script>
<script>
	F.write = function(s) { document.write(s) }

	function build(t) {
		var lines = t.trim().split("\n");
		var lines2
		var line

		// merge up any line continuations
		lines2 = []
		while(lines.length > 0) {
			line = lines.shift().trim()
			while(line.substr(-1) == "\\") {
				line = line.substr(0, line.length - 1)
				line = (line + lines.shift()).trim()
			}
			lines2.push(line)
		}
		lines = lines2


		var h = "";
		for(var i = 0; i < lines.length; i++) {
			var line = lines[i].trim()
			h += line+"<br>"
		}
		$("#output").html(h);
	}
</script>

<table
	style="width: 100%; height: 100%;"
	>
	<tr><td>
		Output
	</td><td
		style="width: 30%;"
		>
		Input
	</td></tr>
	<tr
		style="height: 100%;"
		><td>
		<div id=output></div>
	</td><td>
		<textarea 
			style="width: 100%; height: 100%;"
			onchange="build(this.value)"></textarea>
	</td></tr>
</table>
